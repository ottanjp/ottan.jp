---
author: ["@ottanxyz"]
date: 2017-10-20T00:00:00+00:00
draft: false
title: iPhoneのすべてのアプリからありとあらゆる広告を消し去る魔法のアプリ「AdBlock」の使用方法
type: post
slug: ios-adblock-content-blocker-local-dns-6173
categories:
- iPhone
tags:
- AdBlock
- Apps
- Tips
---

**2021年10月10日時点の情報にもとづき、記事を更新しました。**

DNSプロキシを介して、不要な通信をブロックする「AdBlock」をご紹介します。

{{< itunes 691121579 >}}

「AdBlock」は、Safariのコンテンツブロッカーとしても動作しますが、コンテンツブロッカーとしては、「280blocker」が優秀です。たとえば、「AdBlock」のみでは、ブロックした広告のスペース（空白）まで除去することはできません。

{{< itunes 1071235820 >}}

## AdBlockの広告ブロックの仕組み

AdBlockは、内蔵の「DNSプロキシ」を使用し広告をブロックします。AdBlockが用意した端末上の「DNSプロキシ」を経由することで、指定したドメインに対する名前解決を行わず、結果として通信を行わないようになっています。いったんすべての通信を「DNSプロキシ」を経由させるために、VPNプロファイルをインストールする必要があります。すべての通信を「DNSプロキシ」が設定されているVPN経由とすることで、不要なドメインに対する通信をブロックする仕組みです。そのため、常時VPN接続が必要です。必要なVPNプロファイルのセットアップは、AdBlockのアプリから行います。

![](368795ed758f44c6ae54d518826dc31db833baa597fb5126be22a2bbc62a81f0.jpeg)

実際に、VPNプロファイルをセットアップした直後の状態は上記のようになっています。VPNの接続先は「127.0.0.1」、つまり自分自身（AdBlock）です。

## AdBlockのセットアップ

### AdBlockのインストール

![](28a6b66255d477852bec732038786491e7325ff7418d82deb30dc780620d1777.jpeg)

AdBlockをはじめて起動すると上図のような画面が表示されます。この状態ではまだ不必要な通信はブロックされていない状態です。「Continue」をタップして、チュートリアルを進めましょう。

![](07338ebc218a478c604efb7f4f35cd6c2461ce7e94354d0c2731d08337401836.jpeg)

Safariのコンテンツブロッカーを設定するためのチュートリアルが表示されますが、コンテンツブロッカーとしては冒頭の「280blocker」が優秀であるため、ここではそのままスワイプしてスキップします。

![](aac5b0a35c2d0c6492339a4106fd04843ed4c2631c3611b5c80959c827914dee.jpeg)

ここでチュートリアルは終了です。「Let's do it!」をタップして、「AdBlock」の設定を始めましょう。

![](eba04a3d02c6579279a99ad5a709d461556c24218af333c6a88425a3a0b1f5bc.jpeg)

画面の指示に従い、画面を上にスワイプします。以後、AdBlockのオン、オフを切り替えるには、この画面で上下にスワイプします。

![](00ce060783bdce8826a19e0a5d2e186c5eca6c4ad56d9c6d5195b259dba7bb95.jpeg)

「DNSプロキシ」を使用するためにVPNプロファイルを追加します。

![](26caf480070425f8c9f31452b94937eb0f95a252cba832a7e84c2f13cdd97ee9.jpeg)

続いて、「DNSプロキシ」を通してブロックするドメインを追加します。冒頭の「280blocker」の公式ページで、AdBlock用のルールが配布されています。「Import DNS Proxy Rules」をタップしましょう。図中の赤枠部分です。

- <https://280blocker.net>

![](d9917bb22fc4fe1d7dc3f2a041af8bcde237eae4e7935684b2c10485f7636680.jpeg)

「DOMAIN LIST ADDRESS」に、以下を設定します。`YYYYMM` は現在の年月に置き換えてください。たとえば、2021年10月10日の場合、`202110` です。

- `https://280blocker.net/files/280blocker_domain_YYYYMM.txt`

また、合わせて「Import automatically」を「オン」にしておきます。上記のドメインルールに更新があった場合、自動的にルールを更新してくれます。

![](441493a84d71039ee8732d40dfc942526d34cdde82a3e2b5179ee641d3353dea.jpeg)

「Enable 1265 DNS Proxy rules」のように表示されれば、セットアップは完了です。なお、数値は追加した時点のルール数にもとづいているため、変動します。

以上で、AdBlockの設定は完了です。以前のバージョンよりも、格段にセットアップが簡単になり、ルールの更新も容易になり使いやすさが増しています。DNSプロキシによるブロックは、各アプリの再起動後です。依然として広告が表示される場合、そのアプリを再起動してみることをオススメします。

なお、AdBlockによる防御をすり抜ける広告を手動でブロックするルールを追加することもできます。そのためには、「DNS Log」を有効にして、該当のドメインを手動でルールに追加する必要があります。ただ、誤って必要な通信をブロックしてしまうと、通常の運用にも影響が出てしまうため、オススメはしません。

### AdBlockのアンインストール

![](441493a84d71039ee8732d40dfc942526d34cdde82a3e2b5179ee641d3353dea.jpeg)

AdBlockをアンインストールする間に、VPNプロファイルを削除します。「Settings」をタップします。

![](79b525392f2400a783318c843beedd14b1780c64bb07f396aa365ce873168cb4.jpeg)

「Remove the VPN profile」をタップします。

![](1eb4ff9ecbbfb9121a0b76941590efc5cf8ccad5f6389012287cd80a5241f51f.jpeg)

「Continue」をタップして、VPNプロファイルを削除します。あとは、AdBlockをiPhoneから削除すれば完了です。
